# getting-rid-of-unnecessary-text
for Syberry Academy



Это программу я написал на коленке, в попыхах. для одной девочки. Суть работы программы была такой:
 Есть вопроссы и только ответы на неё.
сам файл состоял из вопроссов и около 10 вариантов ответов. Но к счастью, правильные варианты
были помечены "." 
 Программа выбирает только то что нужно, неправильные варианты не берёт в расчёт,
и скомпоновывает все так что-бы небыло лишних свободных строк. Для экономии места



 string patch = @"D:\MyPoligon\Project3\base.txt"; 
- мой путьк файлу где хранится вся инфрмация.


 FileStream fileStream = new FileStream(patch,FileMode.Open,FileAccess.Read);
 - создаём экземпляр байтового потока.
Аргументы:
1)путь
2)режим на открытие файла
3)режим на чтение из файла


StreamReader streamReaer = new StreamReader(fileStream,Encoding.GetEncoding(1251));
 -декорируем наш поток симфольным потоком на чтение
Аргументы:
1)Байтовый поток
2)указываем кодировку нашего текста на файле. В данный момент используем стандартную кодировку



string myArray = streamReaer.ReadToEnd();
 - вызываем метод на нашем потоке который будет считывать все символы, всех строк.
   и запсываем всё в созданную переменную


streamReaer.Close();  -закрываем поток
fileStream.Close();   -закрываем поток



string pattern = @"^\d{1,2}\.*\s*\-{1}[a-zA-Zа-яA-Z0-9-. ]+|^\D+";
 - создали шаблон, который будет выбирать вопросс и только ответ на этот вопросс из текста



MatchCollection match = Regex.Matches(myArray,pattern, RegexOptions.Multiline);
 - используем класс Regex и вызываем на нём метод который вернёт коллекцию совпадений
аргументы:
1)Строка содержащая весь наш прочитанный файл
2)паттерн регулярки
3)режим который позволяет проверять совпадение начало-конец любой строки.


StringBuilder builder = new StringBuilder();
 -Создаём экземпляр строителя строк



foreach (var item in match)
            {
                builder.Append(Regex.Replace(item.ToString(),
                    @"(?<var1>^\d{1,2}\.*\s*\-{1}[a-zA-Zа-яA-Z0-9-. ]+)|(?<var2>^\D+)",
                    "${var1} \n ${var2}"));
            }

 -в цикле записываем в наш stringBuilder то как должны будут выглядеть
  скомпанованные вопросс и ответ




FileStream file = new FileStream(@"D:\MyPoligon\Project3\result.txt",FileMode.OpenOrCreate,FileAccess.ReadWrite);
 - Создаём байтовый поток
аргументы:
1)путь куда будет записыватся наш файл
2)режим на открытие. И если такого файла нет, то создать и открыть
3)режим на чтение и запись. (хотя можно было сделать только на запись)


StreamWriter streamWriter = new StreamWriter(file);
 - декорируем наш поток, символьным потоком


 streamWriter.Write(builder);
 - Осуществляем запись


streamWriter.Close(); - закрываем потоки
file.Close();         - закрываем потоки
